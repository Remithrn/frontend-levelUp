import{V as C,X as U,a4 as F,a5 as E,r as i,a8 as M,a9 as b,_ as k,aa as I,ad as R,j as e,b as v,C as _,L as A}from"./index-BrrnQTzj.js";import{a as D}from"./chunk-QXREVWCS-NHBThVY1.js";var O=C({slots:{base:["inline-flex items-center justify-center gap-2 rounded-small outline-none",...U],wrapper:"inline-flex flex-col items-start",name:"text-small text-inherit",description:"text-tiny text-foreground-400"}});function S(o){const{as:a,ref:c,name:l,description:n,className:t,classNames:s,isFocusable:r=!1,avatarProps:d={},...m}=o,N={isFocusable:!1,...d},x=a||"div",g=typeof x=="string",y=F(c),{isFocusVisible:P,isFocused:$,focusProps:h}=E({}),u=i.useMemo(()=>r||a==="button",[r,a]),p=i.useMemo(()=>O(),[]),f=M(s==null?void 0:s.base,t),w=i.useCallback(()=>({ref:y,tabIndex:u?0:-1,"data-focus-visible":b(P),"data-focus":b($),className:p.base({class:f}),...k(I(m,{enabled:g}),u?h:{})}),[u,p,f,h,m]);return{Component:x,className:t,slots:p,name:l,description:n,classNames:s,baseStyles:f,avatarProps:N,getUserProps:w}}var j=R((o,a)=>{const{Component:c,name:l,slots:n,classNames:t,description:s,avatarProps:r,getUserProps:d}=S({...o,ref:a});return e.jsxs(c,{...d(),children:[e.jsx(D,{...r}),e.jsxs("div",{className:n.wrapper({class:t==null?void 0:t.wrapper}),children:[e.jsx("span",{className:n.name({class:t==null?void 0:t.name}),children:l}),e.jsx("span",{className:n.description({class:t==null?void 0:t.description}),children:s})]})]})});j.displayName="NextUI.User";var T=j;const B=()=>{const{access:o}=v(s=>s.auth),[a,c]=i.useState([]),l=async()=>{try{const s=await fetch("https://ec2-16-171-173-138.eu-north-1.compute.amazonaws.com/api/chat/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}});if(s.ok){const r=await s.json();c(r)}else console.error("Error fetching conversations:",s.statusText)}catch(s){console.error("Error fetching conversations:",s)}},n=v(s=>s.auth.user),t=s=>s.users.find(r=>r.id!==n.pk);return i.useEffect(()=>{o&&l()},[o]),e.jsx(_,{className:"min-h-screen bg-gray-100 py-10",children:e.jsxs("main",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 border-b pb-4  uppercase",children:"Inbox"}),e.jsx("div",{className:"flex flex-col justify-start items-start gap-4",children:a.length>0?a.map(s=>e.jsx(T,{className:"flex flex-col w-full items-start gap-2 self-start rounded-2xl border-b-4 border-violet-400 bg-violet-300 px-5 py-6 font-bold uppercase text-white transition hover:brightness-110 md:flex",description:e.jsxs(A,{to:`/chats/${s.id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:["@",t(s).username]}),avatarProps:{src:`${t(s).profile_picture}`},children:e.jsx("div",{className:"flex flex-col ml-4",children:e.jsx("p",{className:"text-gray-800 font-semibold",children:t(s).username})})},s.id)):e.jsx("p",{className:"text-center text-gray-500",children:"No conversations found."})})]})})};export{B as default};
